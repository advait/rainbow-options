(this["webpackJsonprainbow-options"]=this["webpackJsonprainbow-options"]||[]).push([[0],{218:function(e,t,a){e.exports=a(247)},223:function(e,t,a){},224:function(e,t,a){},247:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(13),l=a.n(o),c=(a(223),a(34)),s=(a(224),a(148)),m=a(24),u=a.n(m),p=a(21);!function(e){e[e.PUT=0]="PUT",e[e.CALL=1]="CALL"}(n||(n={}));var d={legs:[{quantity:1,putCall:n.CALL,k:7,t:p().add(182,"days"),iv:1.2}],entryTime:p()};function g(e){var t=e.legs.map((function(e){return e.t}));return t.sort((function(e,t){return e.isBefore(t)?-1:1})),t[0]}function h(e,t,a){return b(e,t.entryTime,t,a)}var f=a(21),v=a.n(f);function y(e){var t=1/(1+.2316419*Math.abs(e)),a=.3989423*Math.exp(-e*e/2)*t*(.3193815+t*(t*(1.781478+t*(1.330274*t-1.821256))-.3565638));return e>0?1-a:a}function E(e,t,a,n,r){if(0===a)return Math.max(0,e-t);if(a<0)return 0;var i=(Math.log(e/t)+(n+Math.pow(r,2)/2)*a)/(r*Math.sqrt(a)),o=i-r*Math.sqrt(a);return e*y(i)-t*Math.exp(-n*a)*y(o)}function x(e,t,a,n,r){if(0===a)return Math.max(0,t-e);if(a<0)return 0;var i=(Math.log(e/t)+(n+Math.pow(r,2)/2)*a)/(r*Math.sqrt(a)),o=i-r*Math.sqrt(a);return t*Math.exp(-n*a)*y(-o)-e*y(-i)}var k=new s.GPU;function w(e,t,a,r){if(a.putCall===n.CALL){var i=a.t.diff(t,"years",!0);return E(e,a.k,i,r,a.iv)}if(a.putCall===n.PUT){var o=a.t.diff(t,"years",!0);return x(e,a.k,o,r,a.iv)}throw Error("Invalid type: "+a.putCall)}function b(e,t,a,n){return m.chain(a.legs).map((function(a){return a.quantity*w(e,t,a,n)})).sum().value()}function N(e,t,a,r,i,o,l,c,s){performance.mark("portfolioValueStart");var m=a.diff(c.entryTime,"years",!0),u=r.diff(c.entryTime,"years",!0),p=h(l,c,s);performance.mark("gpuLegStart");var d=k.createKernel((function(e,t,a,n,r,i,o,l){for(var c=Math.floor(this.thread.x/e),s=this.thread.x%e/e*(n-a)+a,m=c/t*(i-r)+r,u=o[0],p=o[1],d=0,g=0;g<p;g++){var h=o[5*g+2],f=o[5*g+3],v=o[5*g+4],y=o[5*g+5],k=o[5*g+6];d+=0===f?h*x(m,v,y-s,l,k):h*E(m,v,y-s,l,k)}return d-u})),g=d.setOutput([e*t])(e,t,m,u,i,o,function(e,t){var a=[];return a.push(t),a.push(e.legs.length),e.legs.forEach((function(t){a.push(t.quantity),a.push(t.putCall===n.PUT?0:1),a.push(t.k),a.push(t.t.diff(e.entryTime,"years",!0)),a.push(t.iv)})),a}(c,p),s);d.destroy();for(var f=1/0,v=0;v<g.length;v++){var y=g[v];y<f&&(f=y)}var w=g.map((function(e){return e/-f}));return performance.measure("portfolioValue","portfolioValueStart"),{pctGain:w,minValue:f}}k.addFunction(y),k.addFunction(E),k.addFunction(x);var C=a(284),S=a(314),P=a(287),O=a(315),T=a(295),L=(a(239),a(164)),j=a.n(L),B=a(316),W=a(163),M=a.n(W),R=a(149),F=a(150),V=a(165),D=a(151),q=a(166),z=a(30),G=Object(C.a)((function(e){return{outerContainer:{width:"100%",height:"100%"},toolbar:e.mixins.toolbar,contoursInnerContainer:{position:"relative",width:"100%",height:"100%"},d3Container:{position:"absolute",width:"100%",height:"100%",zIndex:1},svg:{position:"absolute",width:"100%",height:"100%",zIndex:2}}}));function I(e){var t=G();return i.a.createElement("div",{className:t.outerContainer},i.a.createElement(P.a,{className:t.toolbar}),i.a.createElement("div",{id:"contoursInnerContainer",className:t.contoursInnerContainer},i.a.createElement(A,Object.assign({},e,{className:t.d3Container})),i.a.createElement(Y,{st:e.st,pctGain:e.portfolioValue.pctGain,className:t.svg})))}var A=function(e){function t(e){var a;return Object(R.a)(this,t),(a=Object(V.a)(this,Object(D.a)(t).call(this,e))).d3ContainerRef=i.a.createRef(),a.stockPriceWindow=a.props.stockPriceWindow,a.timeWindow=a.props.timeWindow,a.entryStockPrice=a.props.entryStockPrice,a.portfolio=a.props.portfolio,a.r=a.props.r,a}return Object(q.a)(t,e),Object(F.a)(t,[{key:"updateST",value:function(e,t){for(var a=e.target;"contoursInnerContainer"!==a.id;)if(!(a=a.parentElement))throw new Error("Could not find contoursInnerContainer");var n=a.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,o=this.tScale.invert(r),l=this.yScale.invert(i);this.props.setST({s:l,t:v()(o),mouseX:e.clientX,mouseY:e.clientY,show:t})}},{key:"componentDidMount",value:function(){var e=this;this.initD3(),this.updateD3(),this.resizeListener=m.debounce((function(){return e.updateD3()}),10),window.addEventListener("resize",this.resizeListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeListener)}},{key:"shouldComponentUpdate",value:function(e,t,a){return this.timeWindow.t0===e.timeWindow.t0&&this.timeWindow.tFinal===e.timeWindow.tFinal&&this.stockPriceWindow.y0===e.stockPriceWindow.y0&&this.stockPriceWindow.yFinal===e.stockPriceWindow.yFinal&&this.entryStockPrice===e.entryStockPrice&&JSON.stringify(this.props.portfolio)===JSON.stringify(e.portfolio)&&this.r===e.r||(this.timeWindow.t0=e.timeWindow.t0,this.timeWindow.tFinal=e.timeWindow.tFinal,this.stockPriceWindow.y0=e.stockPriceWindow.y0,this.stockPriceWindow.yFinal=e.stockPriceWindow.yFinal,this.entryStockPrice=e.entryStockPrice,this.portfolio=e.portfolio,this.r=e.r,this.updateD3()),!1}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:this.d3ContainerRef,onMouseMove:function(t){return e.updateST(t,!0)},onMouseOut:function(t){return e.updateST(t,!1)},className:this.props.className})}},{key:"initD3",value:function(){var e=this.d3ContainerRef.current;console.assert(e,"No canvas container");var t=e.offsetWidth||100,a=e.offsetHeight||100;this.svg=z.d("svg").attr("viewBox",[0,0,t,a]),this.yScale=this.yScale=z.h().domain([this.stockPriceWindow.y0,this.stockPriceWindow.yFinal]).range([0,a]),this.yAxis=z.b().scale(this.yScale),this.tScale=this.tScale=z.j().domain([this.timeWindow.t0.valueOf(),this.timeWindow.tFinal.valueOf()]).range([0,t]),this.tAxis=z.a().scale(this.tScale),this.svg.append("g").attr("class","contours").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5),this.svg.append("g").attr("class","t-axis").attr("transform","translate(0,".concat(this.yScale(556),")")).call(this.tAxis),this.svg.append("g").attr("class","y-axis").call(this.yAxis),e.appendChild(this.svg.node())}},{key:"updateD3",value:function(){performance.clearMarks(),performance.clearMeasures();var e=this.d3ContainerRef.current;console.assert(e,"No canvas container");var t=e.offsetWidth||100,a=e.offsetHeight||100;this.yScale.domain([this.stockPriceWindow.y0,this.stockPriceWindow.yFinal]).range([0,a]),this.tScale.domain([this.timeWindow.t0.valueOf(),this.timeWindow.tFinal.valueOf()]).range([0,t]);var n=Math.floor(t/4),r=Math.floor(a/4),i=N(n,r,this.timeWindow.t0,this.timeWindow.tFinal,this.stockPriceWindow.y0,this.stockPriceWindow.yFinal,this.entryStockPrice,this.portfolio,this.r);performance.mark("d3ContoursStart");var o=z.c().size([n,r])(i.pctGain);performance.mark("d3ContoursEnd"),performance.measure("d3Contours","d3ContoursStart","d3ContoursEnd"),console.log(performance.getEntriesByType("measure"));var l=z.e().projection(z.f({point:function(e,a){this.stream.point(e/n*t,a/n*t)}}));this.svg.attr("viewBox",[0,0,t,a]),this.svg.select(".contours").selectAll("path").data(o).join("path").attr("fill",(function(e){return z.g((t=e.value)<=0?z.h().domain([-1,0]).range([0,.5])(t):z.i().domain([0,3]).range([.5,1])(t));var t})).attr("d",l),this.svg.select(".t-axis").attr("transform","translate(0,".concat(this.yScale(this.entryStockPrice),")")).call(this.tAxis),this.svg.select(".y-axis").call(this.yAxis)}}]),t}(i.a.Component);function Y(e){var t,a={display:e.hidden?"hidden":"inline",position:"fixed",top:e.st.mouseY+20,left:e.st.mouseX,zIndex:3,backgroundColor:"#33333344",padding:"6px",borderRadius:"4px",transform:"translate(-40%, -200%)"};return i.a.createElement("div",{className:"gains-tooltip",style:a},(t=e.pctGain)<=0?"".concat((100*t).toFixed(2),"%"):t<1?"+".concat((100*t).toFixed(2),"%"):"".concat(t.toFixed(2),"x"))}var U=a(25),$=a(322),X=a(248),H=a(297),J=a(299),Q=a(323),K=a(58),_=a(158),Z=a.n(_),ee=a(71),te=a(291),ae=a(292),ne=a(320),re=a(321),ie=a(296),oe=a(317),le=a(298),ce=a(81),se=a(289),me=a(290),ue=a(157),pe=a.n(ue),de=a(82),ge=a.n(de),he=a(156),fe=a.n(he),ve=a(4),ye=Object(C.a)((function(e){return{card:{marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(1),overflow:"visible"},cardHeader:{cursor:"pointer"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},contentRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),justifyContent:"space-between"},bottomMargin:{marginBottom:e.spacing(2)},largeButtonGroup:{flexGrow:1,flexShrink:1},largeButton:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},smallButtonGroup:{marginRight:e.spacing(2)},smallButton:{padding:0,margin:0,minWidth:"24px"},descriptionValueParent:{display:"flex",flexGrow:1,flexDirection:"column"},description:{fontSize:"12px",color:ce.a[500],marginTOp:"-2px",marginBottom:"3px"},value:{fontSize:"18px"},orangeLong:{color:e.palette.getContrastText(se.a[500]),backgroundColor:se.a[500]},orangeShort:{color:e.palette.getContrastText(se.a[100]),backgroundColor:se.a[100]},purpleLong:{color:e.palette.getContrastText(me.a[500]),backgroundColor:me.a[500]},purpleShort:{color:e.palette.getContrastText(me.a[100]),backgroundColor:me.a[100]},grey:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500]}}}));function Ee(e){var t=ye(),a=Object(r.useState)(!1),o=Object(c.a)(a,2),l=o[0],s=o[1];function m(e,t,a){return void 0===e?t:a(e)}var u=m(e.leg.quantity,"-",(function(e){return e>0?"+".concat(e):"".concat(e)})),p=m(e.leg.putCall,"?",(function(e){return e===n.CALL?"Call":"Put"})),d=m(e.leg.quantity,"Long",(function(e){return e<0?"Short":"Long"})),g="".concat(p[0]).concat(d[0]),h=m(e.leg.k,"?",(function(e){return"$".concat(e)})),f=m(e.leg.t,"?",(function(e){return"".concat(e.format("MMM DD, YYYY")," (").concat(e.diff(v()(),"days")," days)")})),y="";e.leg.putCall===n.CALL&&(y=e.leg.quantity&&e.leg.quantity<0?t.orangeShort:t.orangeLong);var E="";e.leg.putCall===n.PUT&&(E=e.leg.quantity&&e.leg.quantity<0?t.purpleShort:t.purpleLong);var x=function(t){return function(){e.setLeg(Object(U.a)({},e.leg,{t:e.leg.t.clone().add(t)}))}},k=function(t){return function(){var a=e.leg.quantity+t;0===a&&(a+=t),e.setLeg(Object(U.a)({},e.leg,{quantity:a}))}},b=function(t){return function(){e.setLeg(Object(U.a)({},e.leg,{k:e.leg.k+t}))}},N=function(t){return function(){e.setLeg(Object(U.a)({},e.leg,{putCall:t}))}},C=function(t){return function(){e.setLeg(Object(U.a)({},e.leg,{iv:e.leg.iv+t}))}};return i.a.createElement(te.a,{elevation:1,className:t.card},i.a.createElement(ae.a,{avatar:i.a.createElement(ne.a,{title:"".concat(d," ").concat(p)},i.a.createElement(re.a,{className:Object(ve.a)(E,y)},g)),title:"".concat(u,"x @ ").concat(h," ").concat(p),subheader:"".concat(f),action:i.a.createElement(T.a,{className:Object(ve.a)(t.expand,Object(ee.a)({},t.expandOpen,l))},i.a.createElement(fe.a,null)),onClick:function(){return s(!l)},className:t.cardHeader}),i.a.createElement(ie.a,{in:l,timeout:"auto"},i.a.createElement(H.a,{className:t.bottomMargin}),i.a.createElement(oe.a,{flexDirection:"row",className:t.contentRow},i.a.createElement(le.a,{orientation:"horizontal",variant:"outlined",className:t.largeButtonGroup},i.a.createElement(X.a,{className:Object(ve.a)(t.largeButton,y),onClick:N(n.CALL)},e.leg.quantity&&e.leg.quantity<0?"Short":"Long"," ","Call"),i.a.createElement(X.a,{className:Object(ve.a)(t.largeButton,E),onClick:N(n.PUT)},e.leg.quantity&&e.leg.quantity<0?"Short":"Long"," ","Put")),i.a.createElement(T.a,{edge:"end"},i.a.createElement(pe.a,{onClick:e.deleteLeg}))),i.a.createElement(oe.a,{flexDirection:"row",className:t.contentRow},i.a.createElement(le.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:x(v.a.duration(1,"month"))},"+"),i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:x(v.a.duration(-1,"month"))},"-")),i.a.createElement("div",{className:t.descriptionValueParent},i.a.createElement("span",{className:t.description},"Expiration"),i.a.createElement("span",{className:t.value},e.leg.t?i.a.createElement(i.a.Fragment,null,e.leg.t.format("MMM DD, YY")," (",e.leg.t.diff(v()(),"days")," days)"):"Unknown")),i.a.createElement(T.a,{edge:"end"},i.a.createElement(ge.a,null))),i.a.createElement(oe.a,{flexDirection:"row",className:t.contentRow},i.a.createElement(le.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:k(1)},"+"),i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:k(-1)},"-")),i.a.createElement("div",{className:t.descriptionValueParent,style:{width:"65px"}},i.a.createElement("span",{className:t.description},"Quantity"),i.a.createElement("span",{className:t.value},e.leg.quantity?e.leg.quantity:"?")),i.a.createElement(le.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:b(1)},"+"),i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:b(-1)},"-")),i.a.createElement("div",{className:t.descriptionValueParent},i.a.createElement("span",{className:t.description},"Strike Price"),i.a.createElement("span",{className:t.value},"$",e.leg.k?e.leg.k.toFixed(2):"?")),i.a.createElement(T.a,{edge:"end"},i.a.createElement(ge.a,null))),i.a.createElement(oe.a,{flexDirection:"row",className:t.contentRow},i.a.createElement(le.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:C(.05)},"+"),i.a.createElement(X.a,{size:"small",className:t.smallButton,onClick:C(-.05)},"-")),i.a.createElement("div",{className:t.descriptionValueParent,style:{width:"60px"}},i.a.createElement("span",{className:t.description},"Unit Price"),i.a.createElement("span",{className:t.value},"$",w(e.entryStockPrice,e.entryTime,e.leg,e.r).toFixed(2))),i.a.createElement("div",{className:t.descriptionValueParent},i.a.createElement("span",{className:t.description},"Implied Volatility"),i.a.createElement("span",{className:t.value},e.leg.iv?e.leg.iv.toFixed(2):"?")),i.a.createElement(T.a,{edge:"end"},i.a.createElement(ge.a,null)))))}var xe=Object(C.a)((function(e){return{card:{marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(1),paddingTop:e.spacing(2),overflow:"visible"},cardHeader:{cursor:"pointer"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},contentRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),justifyContent:"space-between"},bottomMargin:{marginBottom:e.spacing(2)},descriptionValueParent:{display:"flex",flexGrow:1,flexBasis:"0px",flexDirection:"column"},descriptionValueParentShrink:{display:"flex",flexShrink:1,flexBasis:"0px",flexDirection:"column","& :last-child":{fontSize:"0.875rem"}},description:{fontSize:"12px",color:ce.a[500],marginTop:"-2px",marginBottom:"3px"},value:{},textCenter:{textAlign:"center"}}}));function ke(e){var t,a=xe();return i.a.createElement(te.a,{className:a.card},i.a.createElement(oe.a,{flexDirection:"row",className:a.contentRow},i.a.createElement("div",{className:a.descriptionValueParent},i.a.createElement("span",{className:a.description},"Net Price"),i.a.createElement("span",{className:a.value},"$",h(e.entryStockPrice,e.portfolio,e.r).toFixed(2))),i.a.createElement("div",{className:a.descriptionValueParent},i.a.createElement("span",{className:a.description},"Weighted IV"),i.a.createElement("span",{className:a.value},(t=e.portfolio,u.a.chain(t.legs).map((function(e){return Math.abs(e.quantity)*e.iv})).sum().value()/u.a.chain(t.legs).map((function(e){return Math.abs(e.quantity)})).sum().value()).toFixed(2)))),i.a.createElement(oe.a,{flexDirection:"row",className:a.contentRow},i.a.createElement("div",{className:a.descriptionValueParent},i.a.createElement("span",{className:a.description},"Max Gain"),i.a.createElement("span",{className:a.value},"38.39 (32x)")),i.a.createElement("div",{className:a.descriptionValueParent},i.a.createElement("span",{className:a.description},"Max Loss"),i.a.createElement("span",{className:a.value},"-$1.39 (-100%)"))),i.a.createElement(H.a,{className:a.bottomMargin}),i.a.createElement(oe.a,{flexDirection:"row",className:a.contentRow},i.a.createElement(ne.a,{title:"Delta - how much the option value changes for every dollar increase in stock price"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:Object(ve.a)(a.description,a.textCenter)},"\u0394"),i.a.createElement("span",{className:a.value},"0.13"))),i.a.createElement(ne.a,{title:"Delta% - how much the option value changes (as a % of max loss) for every dollar increase in stock price"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:Object(ve.a)(a.description,a.textCenter)},"\u0394%"),i.a.createElement("span",{className:a.value},"0.13"))),i.a.createElement(ne.a,{title:"Gamma - how much Delta changes for every dollar increase in stock price"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:Object(ve.a)(a.description,a.textCenter)},"\u0194"),i.a.createElement("span",{className:a.value},"0.13"))),i.a.createElement(ne.a,{title:"Gamma% - how much Delta% changes for every dollar increase in stock price"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:a.description},"\u0194%"),i.a.createElement("span",{className:a.value},"22%"))),i.a.createElement(ne.a,{title:"Theta - how much the option value changes every day due to time decay"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:Object(ve.a)(a.description,a.textCenter)},"\u03f4"),i.a.createElement("span",{className:a.value},"-3.3"))),i.a.createElement(ne.a,{title:"Theta% - how much the option value changes (as a % of max loss) every day due to time decay"},i.a.createElement("div",{className:a.descriptionValueParentShrink},i.a.createElement("span",{className:Object(ve.a)(a.description,a.textCenter)},"\u03f4%"),i.a.createElement("span",{className:a.value},"-4.3%")))))}var we=Object(C.a)((function(e){return{toolbar:e.mixins.toolbar,drawer:{width:350,flexShrink:0,overflowX:"hidden"},drawerPaper:{width:350,overflowX:"hidden"},drawerTypography:{paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},drawerTypographySmall:{paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},addIconButton:{alignSelf:"flex-end",marginRight:e.spacing(2)}}}));function be(e){var t=we(),a=function(t){return function(){if(1!==e.portfolio.legs.length){var a=u.a.cloneDeep(e.portfolio);a.legs=a.legs.filter((function(e,a){return a!==t})),e.setPortfolio(a)}}};return i.a.createElement($.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},anchor:"left"},i.a.createElement("div",{className:t.toolbar}),i.a.createElement(J.a,{container:!0,className:t.drawerTypography,spacing:2},i.a.createElement(J.a,{item:!0,xs:6},i.a.createElement(Q.a,{label:"Stock Ticker",fullWidth:!0,variant:"outlined",value:e.symbol,onChange:function(t){return e.setSymbol(t.target.value)}})),i.a.createElement(J.a,{item:!0,xs:6},i.a.createElement(Q.a,{label:"Stock Price",fullWidth:!0,variant:"outlined",value:e.entryStockPrice.toFixed(2),type:"number",onChange:function(t){return e.setEntryStockPrice(parseFloat(t.target.value))}}))),i.a.createElement(K.a,{className:t.drawerTypographySmall}),i.a.createElement(H.a,null),i.a.createElement(K.a,{variant:"h6",className:t.drawerTypography},"Options Legs"),e.portfolio.legs.map((function(t,n){return i.a.createElement(Ee,{entryStockPrice:e.entryStockPrice,entryTime:e.entryTime,r:e.r,leg:t,setLeg:(r=n,function(t){var a=u.a.cloneDeep(e.portfolio);a.legs[r]=t,e.setPortfolio(a)}),deleteLeg:a(n)});var r})),i.a.createElement(X.a,{variant:"text",startIcon:i.a.createElement(Z.a,null),className:t.addIconButton,onClick:function(){var t=u.a.cloneDeep(e.portfolio);t.legs.push(Object(U.a)({},t.legs[t.legs.length-1])),e.setPortfolio(t)}},"Add Leg"),i.a.createElement(ke,{entryStockPrice:e.entryStockPrice,r:e.r,portfolio:e.portfolio}),i.a.createElement(K.a,{className:t.drawerTypographySmall}),i.a.createElement(H.a,null),i.a.createElement(K.a,{variant:"h6",className:t.drawerTypography},"Variables"),i.a.createElement("form",{className:t.drawerTypography,noValidate:!0,autoComplete:"off"},i.a.createElement(Q.a,{label:"r (risk-free rate)",fullWidth:!0,variant:"outlined",value:e.r,type:"number",onChange:function(t){return e.setR(parseFloat(t.target.value))}})))}var Ne=a(92),Ce=(a(78),a(303),a(304),a(305),a(306),a(307),a(302),a(325),a(318),a(326),a(308),a(309),a(310),a(311),a(312),a(313),a(319),a(80)),Se=a(20),Pe=a(32),Oe=a(42),Te=a(49),Le=new Pe.a({link:new Te.a({uri:"http://localhost:4000"}),cache:new Oe.a});function je(){var e=Object(Ne.a)(["\n  query OptionQuotes($symbol: String!, $date: Date!) {\n    expiration(symbol: $symbol, date: $date) {\n      id\n      quotes {\n        id\n        putCall\n        strikePrice\n        bid\n        ask\n        last\n        impliedVolatility\n      }\n    }\n  }\n"]);return je=function(){return e},e}function Be(){var e=Object(Ne.a)(["\n  query stock($symbol: String!) {\n    stock(symbol: $symbol) {\n      id\n      symbol\n      expirations {\n        id\n        date\n      }\n    }\n  }\n"]);return Be=function(){return e},e}Object(C.a)((function(e){return{card:{padding:e.spacing(2),width:"780px"},legOverviewBox:{"& *":{marginRight:e.spacing(1)},"& *:last":{marginRight:0}},putCall:{},expiration:{flexGrow:1},quantity:{width:"100px"},strike:{width:"120px"},iv:{width:"110px"},orangeLong:{color:e.palette.getContrastText(se.a[500]),backgroundColor:se.a[500],marginRight:e.spacing(2)},orangeShort:{color:e.palette.getContrastText(se.a[100]),backgroundColor:se.a[100],marginRight:e.spacing(2)},purpleLong:{color:e.palette.getContrastText(me.a[500]),backgroundColor:me.a[500],marginRight:e.spacing(2)},purpleShort:{color:e.palette.getContrastText(me.a[100]),backgroundColor:me.a[100],marginRight:e.spacing(2)},grey:{color:e.palette.getContrastText(ce.a[500]),backgroundColor:ce.a[500],marginRight:e.spacing(2)}}})),Object(Ce.a)(Be());Object(Ce.a)(je()),Object(C.a)((function(e){return{orange:{color:e.palette.getContrastText(se.a[500]),backgroundColor:se.a[500]},purple:{color:e.palette.getContrastText(me.a[500]),backgroundColor:me.a[500]},grey:{color:e.palette.getContrastText(ce.a[300]),backgroundColor:ce.a[300],borderBottomColor:ce.a[300]}}}));var We=Object(C.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},titleLink:{color:"#FFF"},toolbar:e.mixins.toolbar,menuButton:{marginRight:e.spacing(2)},content:{top:0,right:0,width:"calc(100% - ".concat(350,"px)"),height:"100%",display:"flex",position:"fixed",overflowY:"hidden",padding:0}}}));var Me,Re=function(e){var t=We(),a=Object(r.useState)(.007),n=Object(c.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)(d),m=Object(c.a)(s,2),u=m[0],p=m[1],h=Object(r.useState)({s:0,t:v()(),mouseX:0,mouseY:0,show:!1}),f=Object(c.a)(h,2),y=f[0],E=f[1],x=Object(r.useState)("TEST"),k=Object(c.a)(x,2),w=k[0],N=k[1],C=Object(r.useState)(5),L=Object(c.a)(C,2),W=L[0],R=L[1],F={t0:u.entryTime,tFinal:g(u)},V=2*W,D={yFinal:Math.max(0,W-V),y0:W+V},q=function(e,t,a,n,r){var i=b(e,n.entryTime,n,r),o=b(t,a,n,r),l=o-i;return{endingValue:o,netValue:l,pctGain:l/i}}(W,y.s,y.t,u,o);return i.a.createElement("div",{className:t.root},i.a.createElement(S.a,{position:"fixed",className:t.appBar},i.a.createElement(P.a,null,i.a.createElement(O.a,{edge:"start",className:t.menuButton},i.a.createElement(B.a,{href:"/",underline:"none",className:t.titleLink},i.a.createElement(M.a,null))),i.a.createElement(B.a,{href:"/",underline:"none",variant:"h6",className:t.titleLink},"Rainbow Options Calculator"),i.a.createElement("div",{style:{flexGrow:1}}),i.a.createElement("div",null,i.a.createElement(T.a,{"aria-label":"link to github","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},i.a.createElement(B.a,{href:"https://github.com/advait/rainbow-options",className:t.titleLink,target:"_blank"},i.a.createElement(j.a,null)))))),i.a.createElement(be,{portfolio:u,setPortfolio:p,portfolioValue:q,r:o,setR:l,timeWindow:F,symbol:w,setSymbol:N,entryStockPrice:W,setEntryStockPrice:R,mouseST:y,setST:E}),i.a.createElement("main",{className:t.content},i.a.createElement(I,{portfolio:u,portfolioValue:q,r:o,timeWindow:F,stockPriceWindow:D,entryStockPrice:W,setEntryStockPrice:R,st:y,setST:E})))};l.a.render((Me=i.a.createElement(Re,null),i.a.createElement(Se.a,{client:Le},Me)),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.9981e753.chunk.js.map