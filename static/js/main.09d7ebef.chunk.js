(this["webpackJsonprainbow-options"]=this["webpackJsonprainbow-options"]||[]).push([[0],{203:function(e,t,a){e.exports=a(234)},208:function(e,t,a){},209:function(e,t,a){},234:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),o=a.n(i),l=(a(208),a(51)),s=(a(209),a(28)),c=a(62),u=a(63),m=a(21),p=a.n(m);function d(e){var t=1/(1+.2316419*Math.abs(e)),a=.3989423*Math.exp(-e*e/2)*t*(.3193815+t*(t*(1.781478+t*(1.330274*t-1.821256))-.3565638));return e>0?1-a:a}function f(e,t,a,n,r){if(0===a)return Math.max(0,e-t);if(a<0)return 0;var i=(Math.log(e/t)+(n+Math.pow(r,2)/2)*a)/(r*Math.sqrt(a)),o=i-r*Math.sqrt(a);return e*d(i)-t*Math.exp(-n*a)*d(o)}function g(e,t,a,n,r){if(0===a)return Math.max(0,t-e);if(a<0)return 0;var i=(Math.log(e/t)+(n+Math.pow(r,2)/2)*a)/(r*Math.sqrt(a)),o=i-r*Math.sqrt(a);return t*Math.exp(-n*a)*d(-o)-e*d(-i)}var h=new(a(134).GPU);function v(e,t,a,n,r,i,o,l){performance.mark("portfolioValueStart");var s=a.diff(o.entryTime,"years",!0),c=n.diff(o.entryTime,"years",!0);performance.mark("gpuLegStart");var u=h.createKernel((function(e,t,a,n,r,i,o,l){for(var s=Math.floor(this.thread.x/e),c=this.thread.x%e/e*(n-a)+a,u=s/t*(i-r)+r,m=o[0],p=o[1],d=0,h=0;h<p;h++){var v=o[5*h+2],E=o[5*h+3],y=o[5*h+4],w=o[5*h+5],x=o[5*h+6];d+=0===E?v*g(u,y,w-c,l,x):v*f(u,y,w-c,l,x)}return d-m})),m=u.setOutput([e*t])(e,t,s,c,r,i,function(e,t){var a=[];return a.push(e.entryCost(t)),a.push(e.legs.length),e.legs.forEach((function(t){a.push(t.quantity),a.push(t.putCall===L.PUT?0:1),a.push(t.k),a.push(t.t.diff(e.entryTime,"years",!0)),a.push(t.iv)})),a}(o,l),l);u.destroy();for(var p=1/0,d=0;d<m.length;d++){var v=m[d];v<p&&(p=v)}var E=m.map((function(e){return e/-p}));return performance.measure("portfolioValue","portfolioValueStart"),{pctGain:E,minValue:p}}h.addFunction(d),h.addFunction(f),h.addFunction(g);var E=a(271),y=a(270),w=a(151),x=a(150),N=a(24),k=a.n(N),b=new y.a({link:new x.a({uri:"http://localhost:4000"}),cache:new w.a});function S(e){return k()(e,"YYYY-MM-DD")}function C(e){return e.format("YYYY-MM-DD")}function P(e,t){if(!e)throw new Error(t)}var L,O=a(24);!function(e){e[e.PUT=0]="PUT",e[e.CALL=1]="CALL"}(L||(L={}));var T=function(){function e(t,a,n){var r=this;Object(c.a)(this,e),this.legs=void 0,this.entryTime=void 0,this.entryStockPrice=void 0,this.getEarliestExpiration=function(){var e=r.legs.map((function(e){return e.t}));return e.sort((function(e,t){return e.isBefore(t)?-1:1})),e[0]},this.weightedIV=function(){return p.a.chain(r.legs).map((function(e){return Math.abs(e.quantity)*e.iv})).sum().value()/p.a.chain(r.legs).map((function(e){return Math.abs(e.quantity)})).sum().value()},this.toURLSlug=function(){return JSON.stringify({legs:r.legs.map((function(e){return Object(s.a)({},e,{t:C(e.t)})})),entryTime:C(r.entryTime),entryStockPrice:r.entryStockPrice})},this.grossValuePoint=function(e,t,a){return p.a.chain(r.legs).map((function(n){return n.quantity*M(e,t,n,a)})).sum().value()},this.entryCost=function(e){return r.grossValuePoint(r.entryStockPrice,r.entryTime,e)},this.netValuePoint=function(e,t,a){var n=r.entryCost(a),i=r.grossValuePoint(e,t,a),o=i-n;return{endingValue:i,netValue:o,pctGain:o/n}},P(t.length>0,"Portfolio must have legs"),P(O.isMoment(a),"entryTime must be a date"),P(n>0,"Stock price must be > 0"),this.legs=t,this.entryTime=a,this.entryStockPrice=n}return Object(u.a)(e,[{key:"withNewLegs",value:function(t){return new e(t,this.entryTime,this.entryStockPrice)}},{key:"equals",value:function(e){return this.toURLSlug()==e.toURLSlug()}}]),e}();T.fromURLSlug=p.a.memoize((function(e){var t=JSON.parse(decodeURI(e)),a=t.legs.map((function(e){return Object(s.a)({},e,{t:S(e.t)})})),n=S(t.entryTime);return new T(a,n,t.entryStockPrice)}));var j=new T([{quantity:1,putCall:L.CALL,k:4,t:O().add(182,"days"),iv:1.2}],O(),5);function M(e,t,a,n){if(a.putCall===L.CALL){var r=a.t.diff(t,"years",!0);return f(e,a.k,r,n,a.iv)}if(a.putCall===L.PUT){var i=a.t.diff(t,"years",!0);return g(e,a.k,i,n,a.iv)}throw Error("Invalid type: "+a.putCall)}var B=a(272),V=a(288),R=a(275),W=a(289),D=a(283),q=(a(226),a(149)),F=a.n(q),z=a(290),I=a(148),G=a.n(I),Y=a(152),U=a(139),A=a(153),X=a(27),H=Object(B.a)((function(e){return{outerContainer:{width:"100%",height:"100%"},toolbar:e.mixins.toolbar,contoursInnerContainer:{position:"relative",width:"100%",height:"100%"},d3Container:{position:"absolute",width:"100%",height:"100%",zIndex:1},svg:{position:"absolute",width:"100%",height:"100%",zIndex:2}}}));function $(e){var t=H();return r.a.createElement("div",{className:t.outerContainer},r.a.createElement(R.a,{className:t.toolbar}),r.a.createElement("div",{id:"contoursInnerContainer",className:t.contoursInnerContainer},r.a.createElement(J,Object.assign({},e,{className:t.d3Container})),r.a.createElement(K,{st:e.st,pctGain:e.portfolioValue.pctGain,className:t.svg})))}var J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(Y.a)(this,Object(U.a)(t).call(this,e))).d3ContainerRef=r.a.createRef(),a.stockPriceWindow=a.props.stockPriceWindow,a.timeWindow=a.props.timeWindow,a.portfolio=a.props.portfolio,a.r=a.props.r,a}return Object(A.a)(t,e),Object(u.a)(t,[{key:"updateST",value:function(e,t){for(var a=e.target;"contoursInnerContainer"!==a.id;)if(!(a=a.parentElement))throw new Error("Could not find contoursInnerContainer");var n=a.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,o=this.tScale.invert(r),l=this.yScale.invert(i);this.props.setST({s:l,t:k()(o),mouseX:e.clientX,mouseY:e.clientY,show:t})}},{key:"componentDidMount",value:function(){var e=this;this.initD3(),this.updateD3(),this.resizeListener=m.debounce((function(){return e.updateD3()}),10),window.addEventListener("resize",this.resizeListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeListener)}},{key:"shouldComponentUpdate",value:function(e,t,a){return m.isEqual(this.timeWindow,e.timeWindow)&&m.isEqual(this.stockPriceWindow,e.stockPriceWindow)&&this.portfolio.equals(e.portfolio)&&this.r===e.r||(this.timeWindow=e.timeWindow,this.stockPriceWindow=e.stockPriceWindow,this.portfolio=e.portfolio,this.r=e.r,this.updateD3()),!1}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{ref:this.d3ContainerRef,onMouseMove:function(t){return e.updateST(t,!0)},onMouseOut:function(t){return e.updateST(t,!1)},className:this.props.className})}},{key:"initD3",value:function(){var e=this.d3ContainerRef.current;P(!!e,"No canvas container");var t=e.offsetWidth||100,a=e.offsetHeight||100;this.svg=X.d("svg").attr("viewBox",[0,0,t,a]),this.yScale=this.yScale=X.h().domain([this.stockPriceWindow.y0,this.stockPriceWindow.yFinal]).range([0,a]),this.yAxis=X.b().scale(this.yScale),this.tScale=this.tScale=X.j().domain([this.timeWindow.t0.valueOf(),this.timeWindow.tFinal.valueOf()]).range([0,t]),this.tAxis=X.a().scale(this.tScale),this.svg.append("g").attr("class","contours").attr("fill","none").attr("stroke","#fff").attr("stroke-opacity",.5),this.svg.append("g").attr("class","t-axis").attr("transform","translate(0,".concat(this.yScale(556),")")).call(this.tAxis),this.svg.append("g").attr("class","y-axis").call(this.yAxis),e.appendChild(this.svg.node())}},{key:"updateD3",value:function(){performance.clearMarks(),performance.clearMeasures();var e=this.d3ContainerRef.current;P(!!e,"No canvas container");var t=e.offsetWidth||100,a=e.offsetHeight||100;this.yScale.domain([this.stockPriceWindow.y0,this.stockPriceWindow.yFinal]).range([0,a]),this.tScale.domain([this.timeWindow.t0.valueOf(),this.timeWindow.tFinal.valueOf()]).range([0,t]);var n=Math.floor(t/4),r=Math.floor(a/4),i=v(n,r,this.timeWindow.t0,this.timeWindow.tFinal,this.stockPriceWindow.y0,this.stockPriceWindow.yFinal,this.portfolio,this.r);performance.mark("d3ContoursStart");var o=X.c().size([n,r])(i.pctGain);performance.mark("d3ContoursEnd"),performance.measure("d3Contours","d3ContoursStart","d3ContoursEnd"),console.log(performance.getEntriesByType("measure"));var l=X.e().projection(X.f({point:function(e,a){this.stream.point(e/n*t,a/n*t)}}));this.svg.attr("viewBox",[0,0,t,a]),this.svg.select(".contours").selectAll("path").data(o).join("path").attr("fill",(function(e){return X.g((t=e.value)<=0?X.h().domain([-1,0]).range([0,.5])(t):X.i().domain([0,3]).range([.5,1])(t));var t})).attr("d",l),this.svg.select(".t-axis").attr("transform","translate(0,".concat(this.yScale(this.portfolio.entryStockPrice),")")).call(this.tAxis),this.svg.select(".y-axis").call(this.yAxis)}}]),t}(r.a.Component);function K(e){var t,a={display:e.hidden?"hidden":"inline",position:"fixed",top:e.st.mouseY+20,left:e.st.mouseX,zIndex:3,backgroundColor:"#33333344",padding:"6px",borderRadius:"4px",transform:"translate(-40%, -200%)"};return r.a.createElement("div",{className:"gains-tooltip",style:a},(t=e.pctGain)<=0?"".concat((100*t).toFixed(2),"%"):t<1?"+".concat((100*t).toFixed(2),"%"):"".concat(t.toFixed(2),"x"))}var Q=a(294),_=a(235),Z=a(285),ee=a(287),te=a(291),ae=a(54),ne=a(146),re=a.n(ne),ie=a(61),oe=a(279),le=a(280),se=a(295),ce=a(296),ue=a(284),me=a(292),pe=a(286),de=a(69),fe=a(277),ge=a(278),he=a(145),ve=a.n(he),Ee=a(70),ye=a.n(Ee),we=a(144),xe=a.n(we),Ne=a(4),ke=Object(B.a)((function(e){return{card:{marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(1),overflow:"visible"},cardHeader:{cursor:"pointer"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},contentRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),justifyContent:"space-between"},bottomMargin:{marginBottom:e.spacing(2)},largeButtonGroup:{flexGrow:1,flexShrink:1},largeButton:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},smallButtonGroup:{marginRight:e.spacing(2)},smallButton:{padding:0,margin:0,minWidth:"24px"},descriptionValueParent:{display:"flex",flexGrow:1,flexDirection:"column"},description:{fontSize:"12px",color:de.a[500],marginTOp:"-2px",marginBottom:"3px"},value:{fontSize:"18px"},orangeLong:{color:e.palette.getContrastText(fe.a[500]),backgroundColor:fe.a[500]},orangeShort:{color:e.palette.getContrastText(fe.a[100]),backgroundColor:fe.a[100]},purpleLong:{color:e.palette.getContrastText(ge.a[500]),backgroundColor:ge.a[500]},purpleShort:{color:e.palette.getContrastText(ge.a[100]),backgroundColor:ge.a[100]},grey:{color:e.palette.getContrastText(de.a[500]),backgroundColor:de.a[500]}}}));function be(e){var t=ke(),a=Object(n.useState)(!1),i=Object(l.a)(a,2),o=i[0],c=i[1];function u(e,t,a){return void 0===e?t:a(e)}var m=u(e.leg.quantity,"-",(function(e){return e>0?"+".concat(e):"".concat(e)})),p=u(e.leg.putCall,"?",(function(e){return e===L.CALL?"Call":"Put"})),d=u(e.leg.quantity,"Long",(function(e){return e<0?"Short":"Long"})),f="".concat(p[0]).concat(d[0]),g=u(e.leg.k,"?",(function(e){return"$".concat(e)})),h=u(e.leg.t,"?",(function(e){return"".concat(e.format("MMM DD, YYYY")," (").concat(e.diff(k()(),"days")," days)")})),v="";e.leg.putCall===L.CALL&&(v=e.leg.quantity&&e.leg.quantity<0?t.orangeShort:t.orangeLong);var E="";e.leg.putCall===L.PUT&&(E=e.leg.quantity&&e.leg.quantity<0?t.purpleShort:t.purpleLong);var y=function(t){return function(){e.setLeg(Object(s.a)({},e.leg,{t:e.leg.t.clone().add(t)}))}},w=function(t){return function(){var a=e.leg.quantity+t;0===a&&(a+=t),e.setLeg(Object(s.a)({},e.leg,{quantity:a}))}},x=function(t){return function(){e.setLeg(Object(s.a)({},e.leg,{k:e.leg.k+t}))}},N=function(t){return function(){e.setLeg(Object(s.a)({},e.leg,{putCall:t}))}},b=function(t){return function(){e.setLeg(Object(s.a)({},e.leg,{iv:e.leg.iv+t}))}};return r.a.createElement(oe.a,{elevation:1,className:t.card},r.a.createElement(le.a,{avatar:r.a.createElement(se.a,{title:"".concat(d," ").concat(p)},r.a.createElement(ce.a,{className:Object(Ne.a)(E,v)},f)),title:"".concat(m,"x @ ").concat(g," ").concat(p),subheader:"".concat(h),action:r.a.createElement(D.a,{className:Object(Ne.a)(t.expand,Object(ie.a)({},t.expandOpen,o))},r.a.createElement(xe.a,null)),onClick:function(){return c(!o)},className:t.cardHeader}),r.a.createElement(ue.a,{in:o,timeout:"auto"},r.a.createElement(Z.a,{className:t.bottomMargin}),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement(pe.a,{orientation:"horizontal",variant:"outlined",className:t.largeButtonGroup},r.a.createElement(_.a,{className:Object(Ne.a)(t.largeButton,v),onClick:N(L.CALL)},e.leg.quantity&&e.leg.quantity<0?"Short":"Long"," ","Call"),r.a.createElement(_.a,{className:Object(Ne.a)(t.largeButton,E),onClick:N(L.PUT)},e.leg.quantity&&e.leg.quantity<0?"Short":"Long"," ","Put")),r.a.createElement(D.a,{edge:"end"},r.a.createElement(ve.a,{onClick:e.deleteLeg}))),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement(pe.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:y(k.a.duration(1,"month"))},"+"),r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:y(k.a.duration(-1,"month"))},"-")),r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Expiration"),r.a.createElement("span",{className:t.value},e.leg.t?r.a.createElement(r.a.Fragment,null,e.leg.t.format("MMM DD, YY")," (",e.leg.t.diff(k()(),"days")," days)"):"Unknown")),r.a.createElement(D.a,{edge:"end"},r.a.createElement(ye.a,null))),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement(pe.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:w(1)},"+"),r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:w(-1)},"-")),r.a.createElement("div",{className:t.descriptionValueParent,style:{width:"65px"}},r.a.createElement("span",{className:t.description},"Quantity"),r.a.createElement("span",{className:t.value},e.leg.quantity?e.leg.quantity:"?")),r.a.createElement(pe.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:x(1)},"+"),r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:x(-1)},"-")),r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Strike Price"),r.a.createElement("span",{className:t.value},"$",e.leg.k?e.leg.k.toFixed(2):"?")),r.a.createElement(D.a,{edge:"end"},r.a.createElement(ye.a,null))),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement(pe.a,{orientation:"vertical",variant:"outlined",className:t.smallButtonGroup},r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:b(.05)},"+"),r.a.createElement(_.a,{size:"small",className:t.smallButton,onClick:b(-.05)},"-")),r.a.createElement("div",{className:t.descriptionValueParent,style:{width:"60px"}},r.a.createElement("span",{className:t.description},"Unit Price"),r.a.createElement("span",{className:t.value},"$",M(e.entryStockPrice,e.entryTime,e.leg,e.r).toFixed(2))),r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Implied Volatility"),r.a.createElement("span",{className:t.value},e.leg.iv?e.leg.iv.toFixed(2):"?")),r.a.createElement(D.a,{edge:"end"},r.a.createElement(ye.a,null)))))}var Se=Object(B.a)((function(e){return{card:{marginLeft:e.spacing(2),marginRight:e.spacing(2),marginTop:e.spacing(2),marginBottom:e.spacing(1),paddingTop:e.spacing(2),overflow:"visible"},cardHeader:{cursor:"pointer"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},contentRow:{display:"flex",alignItems:"center",marginBottom:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),justifyContent:"space-between"},bottomMargin:{marginBottom:e.spacing(2)},descriptionValueParent:{display:"flex",flexGrow:1,flexBasis:"0px",flexDirection:"column"},descriptionValueParentShrink:{display:"flex",flexShrink:1,flexBasis:"0px",flexDirection:"column","& :last-child":{fontSize:"0.875rem"}},description:{fontSize:"12px",color:de.a[500],marginTop:"-2px",marginBottom:"3px"},value:{},textCenter:{textAlign:"center"}}}));function Ce(e){var t=Se();return r.a.createElement(oe.a,{className:t.card},r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Net Price"),r.a.createElement("span",{className:t.value},"$",e.portfolio.entryCost(e.r).toFixed(2))),r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Weighted IV"),r.a.createElement("span",{className:t.value},e.portfolio.weightedIV().toFixed(2)))),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Max Gain"),r.a.createElement("span",{className:t.value},"38.39 (32x)")),r.a.createElement("div",{className:t.descriptionValueParent},r.a.createElement("span",{className:t.description},"Max Loss"),r.a.createElement("span",{className:t.value},"-$1.39 (-100%)"))),r.a.createElement(Z.a,{className:t.bottomMargin}),r.a.createElement(me.a,{flexDirection:"row",className:t.contentRow},r.a.createElement(se.a,{title:"Delta - how much the option value changes for every dollar increase in stock price"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:Object(Ne.a)(t.description,t.textCenter)},"\u0394"),r.a.createElement("span",{className:t.value},"0.13"))),r.a.createElement(se.a,{title:"Delta% - how much the option value changes (as a % of max loss) for every dollar increase in stock price"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:Object(Ne.a)(t.description,t.textCenter)},"\u0394%"),r.a.createElement("span",{className:t.value},"0.13"))),r.a.createElement(se.a,{title:"Gamma - how much Delta changes for every dollar increase in stock price"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:Object(Ne.a)(t.description,t.textCenter)},"\u0194"),r.a.createElement("span",{className:t.value},"0.13"))),r.a.createElement(se.a,{title:"Gamma% - how much Delta% changes for every dollar increase in stock price"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:t.description},"\u0194%"),r.a.createElement("span",{className:t.value},"22%"))),r.a.createElement(se.a,{title:"Theta - how much the option value changes every day due to time decay"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:Object(Ne.a)(t.description,t.textCenter)},"\u03f4"),r.a.createElement("span",{className:t.value},"-3.3"))),r.a.createElement(se.a,{title:"Theta% - how much the option value changes (as a % of max loss) every day due to time decay"},r.a.createElement("div",{className:t.descriptionValueParentShrink},r.a.createElement("span",{className:Object(Ne.a)(t.description,t.textCenter)},"\u03f4%"),r.a.createElement("span",{className:t.value},"-4.3%")))))}var Pe=Object(B.a)((function(e){return{toolbar:e.mixins.toolbar,drawer:{width:350,flexShrink:0,overflowX:"hidden"},drawerPaper:{width:350,overflowX:"hidden"},drawerTypography:{paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},drawerTypographySmall:{paddingTop:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},addIconButton:{alignSelf:"flex-end",marginRight:e.spacing(2)}}}));function Le(e){var t=Pe(),a=function(t){return function(){1!==e.portfolio.legs.length&&e.setPortfolio(e.portfolio.withNewLegs(e.portfolio.legs.filter((function(e,a){return a!==t}))))}};return r.a.createElement(Q.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},anchor:"left"},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(ee.a,{container:!0,className:t.drawerTypography,spacing:2},r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(te.a,{label:"Stock Ticker",fullWidth:!0,variant:"outlined",value:e.symbol,onChange:function(t){return e.setSymbol(t.target.value)}})),r.a.createElement(ee.a,{item:!0,xs:6},r.a.createElement(te.a,{label:"Stock Price",fullWidth:!0,variant:"outlined",value:e.portfolio.entryStockPrice.toFixed(2),type:"number",onChange:function(t){var a=parseFloat(t.target.value),n=new T(e.portfolio.legs,e.portfolio.entryTime,a);e.setPortfolio(n)}}))),r.a.createElement(ae.a,{className:t.drawerTypographySmall}),r.a.createElement(Z.a,null),r.a.createElement(ae.a,{variant:"h6",className:t.drawerTypography},"Options Legs"),e.portfolio.legs.map((function(t,n){return r.a.createElement(be,{entryStockPrice:e.portfolio.entryStockPrice,entryTime:e.entryTime,r:e.r,leg:t,setLeg:(i=n,function(t){var a=p.a.clone(e.portfolio.legs);a[i]=t,e.setPortfolio(e.portfolio.withNewLegs(a))}),deleteLeg:a(n)});var i})),r.a.createElement(_.a,{variant:"text",startIcon:r.a.createElement(re.a,null),className:t.addIconButton,onClick:function(){var t=p.a.clone(e.portfolio.legs);t.push(Object(s.a)({},e.portfolio.legs[e.portfolio.legs.length-1])),e.setPortfolio(e.portfolio.withNewLegs(t))}},"Add Leg"),r.a.createElement(Ce,{r:e.r,portfolio:e.portfolio}),r.a.createElement(ae.a,{className:t.drawerTypographySmall}),r.a.createElement(Z.a,null),r.a.createElement(ae.a,{variant:"h6",className:t.drawerTypography},"Variables"),r.a.createElement("form",{className:t.drawerTypography,noValidate:!0,autoComplete:"off"},r.a.createElement(te.a,{label:"r (risk-free rate)",fullWidth:!0,variant:"outlined",value:e.r,type:"number",onChange:function(t){return e.setR(parseFloat(t.target.value))}})))}var Oe=a(37),Te=Object(B.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},titleLink:{color:"#FFF"},toolbar:e.mixins.toolbar,menuButton:{marginRight:e.spacing(2)},content:{top:0,right:0,width:"calc(100% - ".concat(350,"px)"),height:"100%",display:"flex",position:"fixed",overflowY:"hidden",padding:0}}}));var je,Me=function(){var e,t=Te(),a=Object(Oe.f)(),i=Object(Oe.g)(),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/p/".concat(e.toURLSlug());t?a.replace(n):a.push(n)};try{e=T.fromURLSlug(i.p)}catch(S){console.log("Failed to deserialize portfolio form hash, falling back to default portfolio."),o(e=j,!0)}var s=Object(n.useState)(.007),c=Object(l.a)(s,2),u=c[0],m=c[1],p=Object(n.useState)({s:0,t:k()(),mouseX:0,mouseY:0,show:!1}),d=Object(l.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)("TEST"),v=Object(l.a)(h,2),E=v[0],y=v[1],w={t0:e.entryTime,tFinal:e.getEarliestExpiration()},x=2*e.entryStockPrice,N={yFinal:Math.max(0,e.entryStockPrice-x),y0:e.entryStockPrice+x},b=e.netValuePoint(f.s,f.t,u);return r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{position:"fixed",className:t.appBar},r.a.createElement(R.a,null,r.a.createElement(W.a,{edge:"start",className:t.menuButton},r.a.createElement(z.a,{href:"/",underline:"none",className:t.titleLink},r.a.createElement(G.a,null))),r.a.createElement(z.a,{href:"/",underline:"none",variant:"h6",className:t.titleLink},"Rainbow Options Calculator"),r.a.createElement("div",{style:{flexGrow:1}}),r.a.createElement("div",null,r.a.createElement(D.a,{"aria-label":"link to github","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit"},r.a.createElement(z.a,{href:"https://github.com/advait/rainbow-options",className:t.titleLink,target:"_blank"},r.a.createElement(F.a,null)))))),r.a.createElement(Le,{portfolio:e,setPortfolio:o,portfolioValue:b,r:u,setR:m,timeWindow:w,symbol:E,setSymbol:y,mouseST:f,setST:g}),r.a.createElement("main",{className:t.content},r.a.createElement($,{portfolio:e,portfolioValue:b,r:u,timeWindow:w,stockPriceWindow:N,st:f,setST:g})))},Be=a(78);o.a.render((je=r.a.createElement(Be.a,null,r.a.createElement(Oe.c,null,r.a.createElement(Oe.a,{path:"/p/:p"},r.a.createElement(Me,null)),r.a.createElement(Oe.a,null,r.a.createElement(Me,null)))),r.a.createElement(E.a,{client:b},je)),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.09d7ebef.chunk.js.map